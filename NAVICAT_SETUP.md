# Navicat 数据库创建指南

## 一、连接到 MySQL 服务器

1. **打开 Navicat** 并点击左上角的「连接」按钮，选择「MySQL」

2. **配置连接参数**：
   - 连接名：`platform`
   - 主机名或 IP 地址：`localhost` 或 `127.0.0.1`
   - 端口：`3306`
   - 用户名：`root`
   - 密码：`123456`
   - 其他参数保持默认

3. **测试连接** 并点击「确定」保存连接

## 二、创建数据库

1. 在左侧导航栏中，右键点击刚创建的连接，选择「新建数据库」

2. **配置数据库参数**：
   - 数据库名：`platform`
   - 字符集：`utf8mb4`
   - 排序规则：`utf8mb4_unicode_ci`
   - 其他参数保持默认

3. 点击「确定」创建数据库

## 三、执行 SQL 脚本

### 3.1 执行 schema.sql（创建表结构）

1. 在左侧导航栏中，展开 `platform` 数据库

2. 右键点击 `platform` 数据库，选择「运行 SQL 文件」

3. 在文件选择对话框中，找到项目目录下的 `src/main/resources/sql/schema.sql` 文件，点击「开始」执行

4. 等待执行完成，查看执行结果确保没有错误

### 3.2 执行 data.sql（插入初始数据）

1. 再次右键点击 `platform` 数据库，选择「运行 SQL 文件」

2. 在文件选择对话框中，找到项目目录下的 `src/main/resources/sql/data.sql` 文件，点击「开始」执行

3. 等待执行完成，查看执行结果确保没有错误

## 四、验证数据库

1. 在左侧导航栏中，展开 `platform` 数据库的「表」节点

2. 确认以下表已成功创建：
   - `product` - 商品表
   - `user` - 用户表
   - `category` - 分类表
   - `order` - 订单表
   - `order_item` - 订单项表
   - `inventory` - 库存表
   - `spec` - 规格表
   - `spec_value` - 规格值表

3. 右键点击 `category` 表，选择「打开表」，确认初始分类数据已成功插入

## 五、启动应用程序

1. 确保 MySQL 服务正在运行
2. 运行 Spring Boot 应用程序（端口 8088）
3. 访问 `http://localhost:8088/login` 开始使用系统

## 六、常见问题排查

### 6.1 MySQL 服务未启动

- Windows：打开「服务」，找到「MySQL」服务，右键点击「启动」
- 或使用命令行：`net start mysql`

### 6.2 端口 3306 被占用

- 查看占用端口的进程：`netstat -ano | findstr :3306`
- 结束占用进程：`taskkill /F /PID <进程ID>`

### 6.3 连接被拒绝

- 检查 MySQL 配置文件中的 `bind-address` 是否允许本地连接
- 检查防火墙设置是否允许 3306 端口访问
- 确认用户名和密码正确

## 七、数据库结构说明

### 7.1 核心表关系

```
product ──┬─── category
          └─── inventory
          └─── order_item ── order
          └─── spec_value ── spec
```

### 7.2 主要表字段说明

- **product**：商品基本信息（名称、价格、库存、状态等）
- **user**：用户信息（用户名、密码、角色等）
- **category**：商品分类（支持多级分类）
- **order**：订单信息（订单号、用户ID、总金额、状态等）
- **order_item**：订单项（关联订单和商品）
- **inventory**：库存管理（当前库存、锁定库存等）
- **spec**：规格定义（颜色、尺寸等）
- **spec_value**：规格值（红色、蓝色、S码、M码等）

## 八、数据初始化说明

初始数据只包含商品分类信息，共 21 条记录，分为 4 个一级分类：
- 电子产品（5个子分类）
- 家用电器（4个子分类）
- 家具（4个子分类）
- 服装（4个子分类）

其他表（商品、用户、订单等）将在系统使用过程中动态生成。
